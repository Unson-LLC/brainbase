# SNS投稿（ドラフト作成 → 画像生成 → X投稿）

ユーザーの入力（ネタ/アイデア/今日の作業）から、X投稿のドラフトを2-3案作成し、選択した案で画像生成→投稿まで実行。

## 参照すべきファイル

作成前に必ず以下を読み込んでください：
1. `_codex/sns/sns_strategy_os.md` - 戦略・ポジショニング
2. `_codex/sns/rules.md` - ガードレール
3. `_codex/sns/x_account_profile.md` - アカウント情報

## アカウント軸

- **肩書き**: 事業OSエンジニア
- **テーマ**: 複数事業を同じOS（構造・KPI）で回す設計図を公開
- **ターゲット**: GM候補 / 経営者 / 事業責任者
- **KPI**: DM・商談・採用（フォロワー数より重要）

## ガードレール（必須）

- ❌ 禁止: ツール感想だけ / 一般論だけ / 事業OSと無関係なAIニュース
- ✅ 「OSのどこが変わるか」を最低1行入れる
- ✅ CTA明示（DM歓迎 / リンク / 配布など）
- ✅ 正本リンクを貼る（公開可能なリソースがあれば添える。なければ「DM歓迎」で配布誘導）
- ✅ トーン: 簡潔・具体・再現性。誇張NG、数字は根拠付き

## 出力フォーマット

各案を以下の形式で出力：

```
━━━━━━━━━━━━━━━━━━━━
📝 案1
━━━━━━━━━━━━━━━━━━━━

【本文】
（280文字以内のX投稿文）

【図解ポイント】（インフォグラフィック用）
- ポイント1
- ポイント2
- ポイント3

【タグ案】#OS設計 #会社OS など
【CTA】DM歓迎 / 配布 など

━━━━━━━━━━━━━━━━━━━━
```

## 実行フロー

### Step 1: ネタ収集
1. `git log --oneline --since="midnight"` で今日のコミット確認
2. ユーザー入力がなければコミット内容からネタ抽出
3. 戦略ファイルを読み込み

### Step 2: ドラフト作成
1. 「OSのどこが変わるか」の視点で再構成
2. ガードレールをチェックしながら2-3案作成
3. 各案に【図解ポイント】を含める

### Step 3: ユーザー選択
案を提示したら、AskUserQuestionで選択を求める：

```
どの案で投稿しますか？
- 案1で投稿
- 案2で投稿
- 案3で投稿
- 修正したい
- 投稿しない（ドラフト保存のみ）
```

### Step 4: 画像生成
選択された案の【図解ポイント】を使ってNano Banana Proで画像生成：

```bash
/Users/ksato/workspace/.venv/bin/python /Users/ksato/workspace/scripts/sns_post.py \
  --title "タイトル" \
  --body "投稿本文" \
  --points "ポイント1" "ポイント2" "ポイント3" \
  --dry-run
```

### Step 5: 投稿確認
生成された画像パスを確認後、最終確認：
- 「この内容で投稿しますか？」（dry-runの結果を見せる）
- OKなら `--dry-run` を外して実行

### Step 6: 投稿実行

```bash
/Users/ksato/workspace/.venv/bin/python /Users/ksato/workspace/scripts/sns_post.py \
  --title "タイトル" \
  --body "投稿本文" \
  --points "ポイント1" "ポイント2" "ポイント3"
```

投稿完了後、URLを報告。

## オプション

| 引数 | 動作 |
|------|------|
| `--draft-only` | ドラフト作成のみ（投稿しない） |
| `--skip-image` | 画像生成をスキップ |
| `--image PATH` | 既存画像を使用 |

## 入力例

- `/sns` → 今日のコミットからネタ抽出
- `/sns BAAOを3分割した` → 指定ネタで案作成
- `/sns --draft-only` → ドラフト保存のみ
- `/sns --image /path/to/img.png` → 既存画像で投稿

$ARGUMENTS
