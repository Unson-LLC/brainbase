# 学習キューからSkills更新案を生成（自動分析）

学習キューに溜まった実行ログを**自動的に**分析し、Skillsの更新案を生成します。

## 動作モード

### 🔔 自動通知モード（推奨）

学習候補が3件以上溜まると、**次回のプロンプト送信時に自動通知**：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━
📚 Skills学習候補: 3 件
━━━━━━━━━━━━━━━━━━━━━━━━━━━

  • Skill: strategy-template
    検出: 2025-11-25T16:30:45+09:00

  • Skill: task-format
    検出: 2025-11-25T16:32:00+09:00

  • Skill: raci-format
    検出: 2025-11-25T16:34:00+09:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 これらの実行ログからSkillsを自動更新できます。

  自動分析を開始する場合:
    /learn-skills

  後で確認する場合:
    そのまま続けてください

━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### ⚡ 手動実行モード

いつでも手動で実行可能：

```
/learn-skills
```

## 実行内容

1. **学習候補を自動分析**
   - `.claude/learning/scripts/auto_learn.sh` を実行
   - 実行ログと既存Skillsを比較
   - 新しいパターンやベストプラクティスを抽出

2. **更新案を自動生成**
   - 信頼度を自動計算（0.0〜1.0）
   - 更新内容を具体的に提案

3. **ユーザーに提示**
   - 更新案を読みやすい形式で表示
   - ワンクリック承認コマンド提案

## 出力例

```
📚 Skills学習レポート
━━━━━━━━━━━━━━━━━━━━━━━━━━━

## 学習キュー
合計: 3 候補

### 候補 #1732534800
- Skill: strategy-template
- 検出日時: 2025-11-25 16:30:45
- ステータス: 差分検出済み
- ファイル: _codex/projects/salestailor/01_strategy.md

### 候補 #1732534920
- Skill: task-format
- 検出日時: 2025-11-25 16:32:00
- ステータス: 保留中

### 候補 #1732535040
- Skill: raci-format
- 検出日時: 2025-11-25 16:34:00
- ステータス: 保留中

━━━━━━━━━━━━━━━━━━━━━━━━━━━

## 更新案 #1

### Skill: strategy-template
**種別**: 既存Skill更新
**信頼度**: 85%

**更新内容**:
以下をInstructionsセクションに追加：

```markdown
### 6. 定量性チェック

プロダクト概要、ICP、約束する価値に定量的な要素が含まれているか確認：

- プロダクト概要: ユーザー数・規模の範囲
- ICP: 企業規模（従業員数）、売上規模
- 約束する価値: %向上、日数短縮など具体的な数値
```

**理由**:
実行ログから、ユーザーが毎回「定量的な要素を含めてください」と指示していることを検出。これをSkillに組み込むことで、初回から定量的な戦略書を作成できる。

**承認コマンド**:
```
/approve-skill 1
```

**却下コマンド**:
```
/reject-skill 1
```

━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 ヒント: 承認されたSkillsは自動的に更新され、履歴に記録されます。
```

## 注意事項

- 更新案は**ユーザー承認が必須**です。自動適用されません。
- 承認後もロールバック可能です（履歴から復元）。
- 学習キューは定期的にクリーンアップされます（古い候補は自動削除）。

---

このコマンドを使うことで、Agentの実行経験からSkillsを継続的に進化させることができます。
