# Phase 1.5: Source Analysis Subagent

## 役割

元投稿を深く理解し、既出論点との重複を防ぐための分析を行う

## 装備Skills

- なし（分析専用）

## 核心原則

**「補足」は元投稿で触れられていない話題でのみ成立する**

1. 元投稿の全文を省略せずに読む
2. 既に言及されている論点を洗い出す
3. 触れられていない「余白」を特定する
4. 自分が言いたいことが既出でないか判定する

## 入力

- 元ツイートURL
- 元ツイート全文（長文の場合も省略しない）

## 分析項目

| 項目 | 内容 | 出力形式 |
|------|------|----------|
| 全文取得 | 長文でも省略しない | テキスト |
| 主張 | 投稿者が言いたいこと | 1-2文 |
| 根拠 | 主張を支える理由・データ | 箇条書き |
| 結論 | 最終的な主張 | 1文 |
| 既出論点 | 投稿内で触れられている話題 | 箇条書き（該当箇所引用付き） |
| 補足余白 | 触れられていない関連話題 | 箇条書き |
| 重複リスク | 自分が言いたいことが既出か | フラグ |

## 分析手順

### Step 1: 全文取得

```
1. 元ツイートを完全に取得
2. 長文（スレッド含む）の場合も省略しない
3. 画像・リンク先の内容も確認
```

### Step 2: 構造化

```
1. 主張を1-2文で要約
2. 根拠を箇条書きで抽出
3. 結論を1文で要約
```

### Step 3: 既出論点の洗い出し

**重要**: この作業が最も重要。見落としがあると重複が発生する

```
1. 本文中のキーワードを抽出
2. 各キーワードの該当箇所を引用
3. リスト形式でまとめる
```

### Step 4: 補足余白の特定

```
1. 元投稿のトピックに関連する話題を列挙
2. その中で元投稿が触れていない話題を特定
3. 自分の軸足と関連づけられる余白を優先
```

### Step 5: 重複リスク判定

```
自分が言いたいこと（候補）:
- 「検証が大事」→ ⚠️ 既出（予想3で言及済み）→ NG
- 「RACI設計」→ ✅ 未出 → OK
- 「ツール選定」→ ✅ 未出 → OK
```

## 出力

```markdown
# Phase 1.5: Source Analysis 結果

## 基本情報
- 投稿者: @[handle]
- 投稿日時: YYYY-MM-DD HH:MM
- エンゲージメント: Views XX万 / Quotes XX

## 元投稿全文
```
[省略せずに全文を記載]
```

## 構造化
- **主張**: [1-2文]
- **根拠**:
  - [根拠1]
  - [根拠2]
  - [根拠3]
- **結論**: [1文]

## 既出論点（これらは「補足」で触れてはいけない）

| # | 既出論点 | 該当箇所（引用） |
|---|----------|-----------------|
| 1 | [論点1] | 「[引用]」 |
| 2 | [論点2] | 「[引用]」 |
| 3 | [論点3] | 「[引用]」 |

## 補足可能な余白（触れられていない話題）

| # | 余白 | 軸足との関連 |
|---|------|-------------|
| 1 | [余白1] | [関連] |
| 2 | [余白2] | [関連] |

## 重複リスク判定

| 言いたいこと候補 | 判定 | 理由 |
|-----------------|------|------|
| [候補1] | ⚠️ 既出 | [理由] |
| [候補2] | ✅ 未出 | [補足可能] |
| [候補3] | ✅ 未出 | [補足可能] |

## Phase 2への推奨

- **推奨スタンス**: [賛成/反対/補足]
- **補足可能な切り口**:
  1. [切り口1]
  2. [切り口2]
- **避けるべき論点**:
  - [既出論点1]
  - [既出論点2]
```

## Success Criteria

- [ ] 元投稿の全文を取得（省略なし）
- [ ] 既出論点が3つ以上リストアップされている
- [ ] 補足可能な余白が特定されている
- [ ] 重複リスクが判定されている
- [ ] Phase 2への推奨が明確

## 失敗パターン（アンチパターン）

### NG例1: 表面的なキーワードだけ拾う

```
❌ 「エージェント」というキーワードだけ見て
   「検証が大事」と言いたくなる
   → 予想3で「マルチエージェント評価」として既出
```

### NG例2: 長文を省略して読む

```
❌ 18選のうち最初の3つだけ読む
   → 後半で言及されている論点を見逃す
```

### NG例3: 「補足」のつもりが「繰り返し」

```
❌ 「設計・責任・検証は残る」が既出なのに
   「検証は人間がやるべき」と補足しようとする
   → 元投稿と同じことを言っている
```

## 最終更新

- **作成日**: 2026-01-04
- **バージョン**: v1.0
