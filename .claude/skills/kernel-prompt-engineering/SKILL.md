---
name: kernel-prompt-engineering
description: KERNELフレームワーク：1000時間のプロンプトエンジニアリングから発見された6つの原則。精度340%向上、時間67%削減を実現するエンタープライズ品質のプロンプト設計手法。AIへの指示を書く際に使用。
---

## Triggers

以下の状況で使用：
- AIへの指示（プロンプト）を書くとき
- 高精度なLLM出力を得たいとき
- プロンプトの品質を改善したいとき

# KERNELプロンプトエンジニアリングフレームワーク

1000時間以上のプロンプトエンジニアリング実験から発見された、一貫して高品質な出力を生み出す6つの原則。GPT、Claude、Gemini、Llamaで検証済み。

## 6つの原則（KERNEL）

### K - Knowledge Integration（知識統合）
ドメイン固有の情報をプロンプトに埋め込み、文脈的関連性を高める。

**悪い例:**
```
この研究論文を要約して
```

**良い例:**
```
Jane Doe博士による「気候変動が海洋生物多様性に与える影響」
（Journal of Marine Science, 2023年掲載）の主要な発見と貢献を要約してください。
使用された方法論と、論文で議論されている重要なデータ傾向を強調してください。
```

### E - Explicitness（明示性）
曖昧さを排除し、具体的で明確な指示を与える。

**統計データ:**
- 単一目標のプロンプト: 満足度89%
- 複数目標のプロンプト: 満足度41%

**原則:**
- 1つのプロンプト = 1つの明確な目標
- 「現在のトレンド」等の時間依存表現を避ける
- 成功基準を明記する

### R - Reusability（再利用性）
モジュラー設計でプロンプトを構築し、様々なシナリオで活用可能にする。

**テンプレート化:**
```
## Context
[入力データ/背景情報]

## Task
[具体的なタスク]

## Constraints
[制約・禁止事項]

## Format
[期待する出力形式]
```

### N - Non-redundancy（非冗長性）
不要な要素を排除し、プロンプト構造を簡潔にする。

**原則:**
- 500語の段落 ≠ 賢いプロンプト
- 1つの明確な目標 = 効果的なプロンプト
- トークン使用量を半減させながら品質向上

### E - Error-resilience（エラー耐性）
入力エラーや不確実性に対処するメカニズムを組み込む。

**実践:**
- 「～の場合は」という条件分岐を含める
- エッジケースへの対応を指示
- 不明点があれば確認を求めるよう指示

### L - Linguistic Precision（言語的精度）
AIシステムが正確に理解できるよう、言語的に精密なプロンプトを作成する。

**テクニック:**
- 「〜しない」を明示（不要出力91%削減）
- 具体的な数値・形式を指定
- 専門用語を適切に使用

## 構造化テンプレート

```
## Context（文脈）
[背景情報、入力データ、前提条件]

## Task（タスク）
[具体的に何をしてほしいか - 1つに絞る]

## Constraints（制約）
- [やってはいけないこと1]
- [やってはいけないこと2]
- [制限事項]

## Format（形式）
[期待する出力形式、長さ、スタイル]

## Success Criteria（成功基準）
[どうなれば成功か、評価基準]
```

## 実践例

### コードレビュー依頼

**弱いプロンプト:**
```
このコードをレビューして
```

**KERNELプロンプト:**
```
## Context
TypeScript/Reactのユーザー認証コンポーネント（50行）

## Task
セキュリティ脆弱性と型安全性の観点でレビュー

## Constraints
- パフォーマンス最適化は今回対象外
- UIデザインへのコメント不要
- 外部ライブラリ追加の提案は控える

## Format
1. 重大な問題（修正必須）
2. 改善推奨事項
3. 良い点（1つ）

## Success Criteria
具体的なコード行番号と修正案を含む
```

### ドキュメント作成

**KERNELプロンプト:**
```
## Context
社内API（REST）の新規エンドポイント追加
対象: バックエンド開発者（中級以上）

## Task
エンドポイント仕様書を作成

## Constraints
- 実装詳細は含めない
- 認証方式の説明は他ドキュメント参照とする
- 500語以内

## Format
- エンドポイントURL
- HTTPメソッド
- リクエストパラメータ（表形式）
- レスポンス例（JSON）
- エラーコード一覧

## Success Criteria
開発者がこの仕様書のみで実装可能な詳細度
```

## 効果

| 指標 | 改善率 |
|------|--------|
| 精度向上 | 340% |
| 作業時間削減 | 67% |
| 不要出力削減 | 91%（制約明記時） |
| トークン使用量 | 50%削減 |

## ベストプラクティス

1. **1プロンプト1目標**: 複数タスクは分割
2. **制約を明記**: 「〜しない」が重要
3. **成功基準を定義**: 評価可能な形で
4. **具体例を含める**: Few-shotで精度向上
5. **反復改善**: 結果を見てプロンプトを調整

## 参考文献

- [KERNEL Framework - Engify.ai](https://www.engify.ai/patterns/kernel)
- [Prompt Engineering: The KERNEL Framework](https://cybercorsairs.com/the-kernel-prompting-framework/)

---

このフレームワークを活用することで、勘に頼るプロンプト作成から、再現可能で高精度なプロンプト設計へ移行できます。
