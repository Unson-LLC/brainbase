<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-content">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>brainbase UI</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="style.css?v=202601032345">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Noto+Sans+JP:wght@400;500;700&family=Noto+Sans+Mono:wght@400;500;700&display=swap"
        rel="stylesheet">
</head>

<body class="dark-theme">
    <div class="app-container">
        <!-- Left Navigation (Session List) -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3 id="app-version" class="app-version">v--</h3>
            </div>

            <!-- View Toggle -->
            <div class="view-toggle-container" data-slot="nav:view-toggle"></div>

            <!-- Connection Status Indicator -->
            <div class="connection-status" id="connection-status">
                <i data-lucide="wifi" class="connection-icon"></i>
                <span class="connection-text">Êé•Á∂ö‰∏≠</span>
            </div>

            <!-- New Session Button (Desktop) -->
            <div class="add-session-container">
                <button class="add-session-btn" id="add-session-btn" title="Êñ∞Ë¶è„Çª„ÉÉ„Ç∑„Éß„É≥">
                    <i data-lucide="plus"></i>
                    <span>New Session</span>
                </button>
            </div>

            <div class="session-view-toggle" id="session-view-toggle" aria-label="Session view mode">
                <button class="session-view-btn" data-view="project" title="„Éó„É≠„Ç∏„Çß„ÇØ„ÉàË°®Á§∫">
                    <i data-lucide="folder"></i>
                </button>
                <button class="session-view-btn" data-view="timeline" title="ÊôÇÁ≥ªÂàóË°®Á§∫">
                    <i data-lucide="clock"></i>
                </button>
            </div>

            <div class="session-list" id="session-list">
                <!-- Sessions will be loaded dynamically -->
            </div>

            <!-- Archive Toggle -->
            <div class="archive-toggle-container">
                <button id="toggle-archived-btn" class="archive-toggle-btn">
                    <i data-lucide="archive"></i>
                    <span>„Ç¢„Éº„Ç´„Ç§„Éñ„ÇíË°®Á§∫</span>
                </button>
            </div>

            <!-- Settings Link -->
            <div class="sidebar-footer">
                <div class="sidebar-divider"></div>
                <!-- Inbox Notification -->
                <div class="inbox-trigger-container" data-slot="nav:inbox">
                    <button id="inbox-trigger-btn" class="inbox-trigger" style="display: none;">
                        <i data-lucide="bell"></i>
                        <span>ÈÄöÁü•</span>
                        <span class="inbox-badge" id="inbox-badge">0</span>
                    </button>
                    <!-- Inbox Dropdown -->
                    <div id="inbox-dropdown" class="inbox-dropdown">
                        <div class="inbox-dropdown-header">
                            <span>Êú™ÂØæÂøú„É°„É≥„Ç∑„Éß„É≥</span>
                            <button id="mark-all-done-btn" class="inbox-mark-all" title="„Åô„Åπ„Å¶Á¢∫Ë™çÊ∏à„Åø"
                                aria-label="„Åô„Åπ„Å¶„ÅÆÈÄöÁü•„ÇíÁ¢∫Ë™çÊ∏à„Åø„Å´„Åô„Çã">
                                <i data-lucide="check-check"></i>
                            </button>
                        </div>
                        <div id="inbox-list" class="inbox-dropdown-list">
                            <div class="loading">Ë™≠„ÅøËæº„Åø‰∏≠...</div>
                        </div>
                    </div>
                </div>
                <button id="settings-btn" class="settings-link">
                    <i data-lucide="settings"></i>
                    <span>Settings</span>
                </button>
            </div>
        </nav>

        <!-- Left Panel Resize Handle -->
        <div class="panel-resize-handle panel-resize-handle-left" id="left-panel-resize-handle" title="„Éâ„É©„ÉÉ„Ç∞„ÅßÂπÖ„ÇíÂ§âÊõ¥"></div>

        <!-- Main Content (Console) -->
        <main class="main-content">
            <div class="console-area" id="console-area">
                <div class="console-toolbar">
                    <button id="paste-terminal-btn" class="console-btn" title="„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Åã„Çâ„Éö„Éº„Çπ„Éà"
                        aria-label="„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Åã„Çâ„Éö„Éº„Çπ„Éà">
                        <i data-lucide="clipboard"></i>
                    </button>
                    <button id="upload-image-btn" class="console-btn" title="ÁîªÂÉè„ÇíÈÅ∏Êäû„Åó„Å¶„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ" aria-label="ÁîªÂÉè„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ">
                        <i data-lucide="image-plus"></i>
                    </button>
                    <input type="file" id="image-file-input" accept="image/*" style="display: none;">
                    <button id="send-escape-btn" class="console-btn" title="Escape„Ç≠„Éº„ÇíÈÄÅ‰ø°">
                        <i data-lucide="x-octagon"></i>
                    </button>
                    <button id="send-clear-btn" class="console-btn" title="ÁîªÈù¢„ÇØ„É™„Ç¢ (Ctrl+L)">
                        <i data-lucide="eraser"></i>
                    </button>
                    <button id="copy-terminal-btn" class="console-btn" title="„Çø„Éº„Éü„Éä„É´ÂÜÖÂÆπ„Çí„Ç≥„Éî„Éº">
                        <i data-lucide="copy"></i>
                    </button>
                </div>
                <iframe id="terminal-frame" src="about:blank"></iframe>
                <div id="menu-overlay" class="menu-overlay hidden"></div>
                <div id="drop-overlay" class="drop-overlay">
                    <div class="drop-overlay-content">
                        <i data-lucide="upload"></i>
                        <span>„Éï„Ç°„Ç§„É´„Çí„Éâ„É≠„ÉÉ„Éó„Åó„Å¶„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ</span>
                    </div>
                </div>

                <!-- Phase 3.2: Choice Overlay for tapping terminal choices -->
                <div id="choice-overlay" class="choice-overlay">
                    <div class="choice-overlay-content">
                        <div class="choice-header">
                            <h3>ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</h3>
                            <button class="choice-close-btn" id="close-choice-overlay">
                                <i data-lucide="x"></i>
                            </button>
                        </div>
                        <div id="choice-buttons" class="choice-buttons">
                            <!-- Choices will be dynamically added here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Panel (Phase 1) -->
            <div class="main-panel" id="dashboard-panel" data-slot="view:dashboard" style="display: none;">
                <div class="dashboard-container">
                    <!-- Section 1: Critical Alerts -->
                    <section id="section-1-alerts" class="critical-alerts-section" aria-labelledby="section-1-heading"
                        role="region">
                        <!-- Rendered by DashboardController.renderSection1() -->
                    </section>

                    <!-- Section 1 (Old): Removed -->

                    <!-- Section 2: Strategic Overview -->
                    <section id="section-2-strategic" class="strategic-overview-section"
                        aria-labelledby="section-2-heading" role="region">
                        <div class="dashboard-section-header">
                            <h2 id="section-2-heading" class="section-header-title">
                                Strategic Overview
                            </h2>
                        </div>
                        <div id="strategic-content">
                            <!-- Project priority ranking & bottlenecks will be injected via JS -->
                        </div>
                    </section>

                    <!-- Section 4: Trend Analysis (Story 4: ÊßãÈÄ†ÁöÑ„Å™ÂïèÈ°å„ÇíË¶ãÊäú„Åè) -->
                    <section id="section-4-trends" class="trend-analysis-section" aria-labelledby="section-4-heading"
                        role="region" style="margin-top: 48px;">
                        <div class="section-header"
                            style="margin-bottom: 24px; display: flex; justify-content: space-between; align-items: center;">
                            <div class="dashboard-section-header" style="margin-bottom: 0;">
                                <h2 id="section-4-heading" class="section-header-title">
                                    Trend Analysis
                                </h2>
                            </div>
                            <p style="color: var(--text-tertiary); font-size: 13px; margin: 0;">
                                Âæ™Áí∞Áä∂ÊÖã„ÅÆÊé®Áßª„Å®ÊßãÈÄ†ÁöÑÂïèÈ°å„ÅÆÊ§úÂá∫ <span style="opacity: 0.7;">(ÈÅéÂéª8ÈÄ±Èñì)</span>
                            </p>
                        </div>

                        <!-- 8-Week Health Heatmap (Story 4 AC: ÈÅéÂéª4„Äú8ÈÄ±„ÅÆÂæ™Áí∞Áä∂ÊÖãÊé®Áßª„ÅåÊôÇÁ≥ªÂàó„ÅßË¶ã„Åà„Çã) -->
                        <div id="trends-heatmap-container" style="margin-bottom: 32px;">
                            <h4 style="color: var(--text-primary); font-size: 15px; font-weight: 600; margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                                <span>8ÈÄ±Èñì„ÅÆÂÅ•ÂÖ®ÊÄßÊé®Áßª</span>
                                <span style="font-size: 12px; font-weight: 400; color: var(--text-secondary);">(Âæ™Áí∞Áä∂ÊÖã„Éí„Éº„Éà„Éû„ÉÉ„Éó)</span>
                            </h4>
                            <div id="heatmap-table-container">
                                <!-- 8-week heatmap table will be injected via JS -->
                                <div class="heatmap-loading" style="text-align: center; padding: 40px; color: var(--text-secondary);">
                                    <div style="margin-bottom: 8px;">„Éá„Éº„ÇøË™≠„ÅøËæº„Åø‰∏≠...</div>
                                </div>
                            </div>
                            <!-- Heatmap Legend -->
                            <div class="heatmap-legend" style="display: flex; gap: 16px; justify-content: center; margin-top: 16px; font-size: 12px;">
                                <div style="display: flex; align-items: center; gap: 6px;">
                                    <div style="width: 16px; height: 16px; background: #22c55e; border-radius: 3px;"></div>
                                    <span style="color: var(--text-secondary);">ÂÅ•ÂÖ® (80+)</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px;">
                                    <div style="width: 16px; height: 16px; background: #f59e0b; border-radius: 3px;"></div>
                                    <span style="color: var(--text-secondary);">Ê≥®ÊÑè (60-79)</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px;">
                                    <div style="width: 16px; height: 16px; background: #ef4444; border-radius: 3px;"></div>
                                    <span style="color: var(--text-secondary);">Âç±Èô∫ (&lt;60)</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px;">
                                    <div style="width: 16px; height: 16px; background: rgba(255,255,255,0.1); border-radius: 3px; border: 1px dashed rgba(255,255,255,0.3);"></div>
                                    <span style="color: var(--text-secondary);">„Éá„Éº„Çø„Å™„Åó</span>
                                </div>
                            </div>
                        </div>

                        <!-- Chronic Stagnation Alerts (Story 4 AC: ÊÖ¢ÊÄßÁöÑ„Å™Ê≠¢„Åæ„Çä(2ÈÄ±‰ª•‰∏äÁ∂ôÁ∂ö)„Åå„Ç¢„É©„Éº„ÉàÂØæË±°) -->
                        <div id="chronic-alerts-container" style="margin-bottom: 32px;">
                            <!-- Chronic stagnation alerts will be injected via JS -->
                        </div>
                    </section>

                    <!-- Section 5: Mana Quality Dashboard (Week 7-8) -->
                    <section id="mana-quality" aria-label="Mana Quality Dashboard" role="region"
                        style="margin-top: 32px; margin-bottom: 40px;">
                        <!-- Section 5 content injected via renderSection5() -->
                    </section>

                    <!-- Section 7: Actionable Insights (Phase 3) -->
                    <section class="actionable-insights-section" aria-labelledby="section-7-heading" role="region"
                        style="
                        margin-top: 32px;
                        margin-bottom: 40px;
                        background: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));
                        backdrop-filter: blur(30px);
                        border: 1px solid rgba(255, 255, 255, 0.1);
                        border-radius: 12px;
                        padding: 40px;
                        text-align: center;
                    ">
                        <div class="section-header" style="margin-bottom: 20px;">
                            <h3 id="section-7-heading" style="
                                color: var(--text-primary);
                                font-size: 20px;
                                font-weight: 700;
                                margin-bottom: 8px;
                            ">
                                Section 7: Actionable Insights
                            </h3>
                            <p style="
                                color: var(--text-secondary);
                                font-size: 14px;
                            ">
                                AIÊèêÊ°à„Ç®„É≥„Ç∏„É≥ by Claude Opus 4.5
                            </p>
                        </div>

                        <div style="
                            background: rgba(255, 255, 255, 0.05);
                            border: 1px dashed rgba(255, 255, 255, 0.2);
                            border-radius: 8px;
                            padding: 32px;
                            margin-top: 20px;
                        ">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="
                                color: var(--text-tertiary);
                                opacity: 0.5;
                                margin: 0 auto 16px;
                            ">
                                <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            <h4 style="
                                color: var(--text-tertiary);
                                font-size: 16px;
                                font-weight: 600;
                                margin-bottom: 8px;
                            ">
                                Coming Soon in Phase 3
                            </h4>
                            <p style="
                                color: var(--text-tertiary);
                                font-size: 13px;
                                line-height: 1.6;
                                max-width: 500px;
                                margin: 0 auto;
                            ">
                                ÈÄ±Ê¨°„Ç¢„ÇØ„Ç∑„Éß„É≥ÊèêÊ°à„ÄÅ„É™„ÇΩ„Éº„ÇπÊúÄÈÅ©Âåñ„ÄÅËá™ÂãïÊÑèÊÄùÊ±∫ÂÆöÊîØÊè¥„ÇíÂÆüË£Ö‰∫àÂÆö„ÄÇ<br>
                                AIÊèêÊ°à„ÅÆÊé°Áî®Áéá50%‰ª•‰∏ä„ÇíÁõÆÊ®ô„Å´„ÄÅ‰∫∫Èñì„ÅØ‰æãÂ§ñÂØæÂøú„ÅÆ„Åø„Å´ÈõÜ‰∏≠„ÄÇ
                            </p>
                            <div style="
                                margin-top: 20px;
                                font-size: 12px;
                                color: var(--text-tertiary);
                                opacity: 0.7;
                            ">
                                ÂÆüË£Ö‰∫àÂÆö: Week 17-28ÔºàPhase 3Ôºâ
                            </div>
                        </div>
                    </section>
                </div>
            </div>

        </main>

        <!-- Right Panel Resize Handle -->
        <div class="panel-resize-handle panel-resize-handle-right" id="right-panel-resize-handle" title="„Éâ„É©„ÉÉ„Ç∞„ÅßÂπÖ„ÇíÂ§âÊõ¥"></div>

        <!-- Right Sidebar (Context: Today's Page) -->
        <aside class="context-sidebar" id="context-sidebar">
            <!-- Focus Task Section -->
            <div class="focus-section" id="focus-section">
                <div class="section-header">
                    <h3><i data-lucide="target"></i> „Éï„Ç©„Éº„Ç´„Çπ</h3>
                </div>
                <div id="focus-task"></div>
            </div>

            <!-- Timeline Section: ‰∫àÂÆö+„Çø„Çπ„ÇØÁµ±Âêà -->
            <div class="timeline-section" id="timeline-section" data-slot="sidebar:schedule">
                <div class="section-header">
                    <h3><i data-lucide="calendar"></i> „Çø„Ç§„É†„É©„Ç§„É≥</h3>
                    <button id="add-schedule-btn" class="icon-btn" title="‰∫àÂÆö„ÇíËøΩÂä†" aria-label="‰∫àÂÆö„ÇíËøΩÂä†">
                        <i data-lucide="plus"></i>
                    </button>
                </div>
                <div id="timeline-list">
                    <div class="loading">Ë™≠„ÅøËæº„Åø‰∏≠...</div>
                </div>
            </div>

            <!-- Timeline Resize Handle -->
            <div class="timeline-resize-handle" id="timeline-resize-handle" title="„Éâ„É©„ÉÉ„Ç∞„ÅßÈ´ò„Åï„ÇíÂ§âÊõ¥">
                <div class="resize-grip"></div>
            </div>

            <!-- Next Tasks Section: ÊÆã„Çä„ÅÆ„Çø„Çπ„ÇØ -->
            <div class="next-tasks-section" id="next-tasks-section" data-slot="sidebar:next-tasks">
                <div class="section-header">
                    <h3><i data-lucide="list-todo"></i> Ê¨°„Å´„ÇÑ„Çã„Åì„Å®</h3>
                    <button id="toggle-all-tasks" class="icon-btn" title="ÂÖ®„Å¶Ë°®Á§∫" aria-label="ÂÖ®„Å¶„ÅÆ„Çø„Çπ„ÇØ„ÇíË°®Á§∫">
                        <i data-lucide="chevron-down"></i>
                    </button>
                </div>

                <!-- „Çø„Éñ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
                <div class="task-tabs" id="task-tabs">
                    <button class="task-tab active" data-tab="local">
                        <i data-lucide="file-text"></i> „É≠„Éº„Ç´„É´
                    </button>
                    <button class="task-tab" data-tab="nocodb" data-slot="sidebar:project-tasks-tab">
                        <i data-lucide="database"></i> „Éó„É≠„Ç∏„Çß„ÇØ„Éà
                    </button>
                </div>

                <!-- „É≠„Éº„Ç´„É´„Çø„Éñ„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
                <div class="task-tab-content active" id="local-tasks-panel">
                    <div class="task-filter">
                        <div class="filter-group">
                            <label for="task-filter-input" class="sr-only">„Çø„Çπ„ÇØ„Éï„Ç£„É´„Çø„Éº</label>
                            <input type="text" id="task-filter-input" placeholder="„Çø„Çπ„ÇØ„ÇíÊ§úÁ¥¢..."
                                aria-label="„Çø„Çπ„ÇØÂêç„Åæ„Åü„ÅØË™¨Êòé„ÅßÊ§úÁ¥¢" />
                        </div>

                        <div class="filter-group">
                            <label for="priority-filter" class="sr-only">ÂÑ™ÂÖàÂ∫¶„Éï„Ç£„É´„Çø„Éº</label>
                            <select id="priority-filter" class="priority-filter" aria-label="ÂÑ™ÂÖàÂ∫¶„Åß„Éï„Ç£„É´„Çø">
                                <option value="">„Åô„Åπ„Å¶</option>
                                <option value="high">üî¥ È´ò</option>
                                <option value="medium">üü° ‰∏≠</option>
                                <option value="low">üîµ ‰Ωé</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <button id="add-local-task-btn" class="icon-btn" title="„É≠„Éº„Ç´„É´„Çø„Çπ„ÇØËøΩÂä†" aria-label="„É≠„Éº„Ç´„É´„Çø„Çπ„ÇØ„ÇíËøΩÂä†">
                                <i data-lucide="plus"></i>
                            </button>
                        </div>
                    </div>
                    <div id="next-tasks-list">
                        <div class="loading">Ë™≠„ÅøËæº„Åø‰∏≠...</div>
                    </div>
                    <div id="remaining-tasks-toggle" class="remaining-toggle" style="display: none;">
                        <button id="show-more-tasks">‰ªñ <span id="remaining-count">0</span> ‰ª∂„ÇíË°®Á§∫</button>
                    </div>
                </div>

                <!-- NocoDB„Çø„Éñ„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
                <div class="task-tab-content" id="nocodb-tasks-panel" data-slot="sidebar:project-tasks-panel">
                    <div class="task-filter">
                        <div class="filter-group">
                            <label for="nocodb-task-search" class="sr-only">„Çø„Çπ„ÇØÂêç„Éï„Ç£„É´„Çø„Éº</label>
                            <input type="text" id="nocodb-task-search" placeholder="„Çø„Çπ„ÇØÂêç„ÅßÊ§úÁ¥¢..."
                                aria-label="„Çø„Çπ„ÇØÂêç„ÅßÊ§úÁ¥¢" />
                        </div>
                        <div class="filter-group">
                            <label for="nocodb-assignee-filter" class="sr-only">ÊãÖÂΩìËÄÖ„Éï„Ç£„É´„Çø„Éº</label>
                            <select id="nocodb-assignee-filter" aria-label="ÊãÖÂΩìËÄÖ„Åß„Éï„Ç£„É´„Çø">
                                <option value="">ÂÖ®ÊãÖÂΩìËÄÖ</option>
                                <option value="__self__">Ëá™ÂàÜ„Å†„Åë</option>
                                <option value="__unassigned__">Êú™Ââ≤ÂΩì</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="nocodb-project-filter" class="sr-only">„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Éï„Ç£„É´„Çø„Éº</label>
                            <select id="nocodb-project-filter" class="priority-filter" aria-label="„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Åß„Éï„Ç£„É´„Çø">
                                <option value="">ÂÖ®„Éó„É≠„Ç∏„Çß„ÇØ„Éà</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <button id="add-nocodb-task-btn" class="icon-btn" title="„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çø„Çπ„ÇØËøΩÂä†" aria-label="„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çø„Çπ„ÇØ„ÇíËøΩÂä†">
                                <i data-lucide="plus"></i>
                            </button>
                        </div>
                        <button id="nocodb-sync-btn" class="icon-btn" title="ÂêåÊúü">
                            <i data-lucide="refresh-cw"></i>
                        </button>
                    </div>
                    <div id="nocodb-tasks-list">
                        <div class="empty-state">
                            <i data-lucide="database"></i>
                            <p>„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çø„Éñ„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <footer class="app-footer">
        <div class="footer-controls">
            <button id="focus-btn" class="btn-primary"><i data-lucide="play"></i> „Éï„Ç©„Éº„Ç´„ÇπÈñãÂßã</button>
            <button id="pomodoro-btn" class="btn-secondary"><i data-lucide="timer"></i> „Éù„É¢„Éâ„Éº„É≠</button>
        </div>
        <div class="footer-actions">
            <button onclick="location.reload()" class="icon-btn"><i data-lucide="refresh-cw"></i></button>
            <button class="icon-btn"><i data-lucide="settings"></i></button>
        </div>
    </footer>

    <!-- Terminal Copy Modal -->
    <div id="copy-terminal-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>„Çø„Éº„Éü„Éä„É´Âá∫Âäõ</h3>
                <div class="modal-header-actions">
                    <button id="copy-content-btn" class="btn-primary btn-sm"><i data-lucide="copy"></i> „Ç≥„Éî„Éº</button>
                    <button class="close-modal-btn"><i data-lucide="x"></i></button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="terminal-content-display" class="terminal-content"></pre>
            </div>
        </div>
    </div>

    <!-- Paste Confirm Modal (Phase 2.2) -->
    <div id="paste-confirm-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>„ÉÜ„Ç≠„Çπ„Éà„Çí„Çø„Éº„Éü„Éä„É´„Å´Ë≤º„Çä‰ªò„Åë</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <p class="modal-description">‰ª•‰∏ã„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Çí„Çø„Éº„Éü„Éä„É´„Å´Ë≤º„Çä‰ªò„Åë„Åæ„Åô„ÅãÔºü</p>
                <pre id="paste-preview-text" class="paste-preview"></pre>
            </div>
            <div class="modal-footer">
                <button id="paste-cancel-btn" class="btn-secondary">„Ç≠„É£„É≥„Çª„É´</button>
                <button id="paste-confirm-btn" class="btn-primary">Ë≤º„Çä‰ªò„Åë</button>
            </div>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div id="add-task-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="add-task-modal-title">„Çø„Çπ„ÇØËøΩÂä†</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>„Çø„Çπ„ÇØÂêç</label>
                    <input type="text" id="add-task-title" class="form-input" placeholder="‰æã: ‰ªïÊßòÊõ∏„É¨„Éì„É•„Éº">
                </div>
                <div class="form-group">
                    <label>ÊãÖÂΩìËÄÖ</label>
                    <input type="text" id="add-task-assignee" class="form-input" placeholder="ÊãÖÂΩìËÄÖÂêç">
                </div>
                <div class="form-group">
                    <label>„Éó„É≠„Ç∏„Çß„ÇØ„Éà</label>
                    <select id="add-task-project" class="form-input">
                        <option value="general">general</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ÂÑ™ÂÖàÂ∫¶</label>
                    <select id="add-task-priority" class="form-input">
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ÊúüÈôê</label>
                    <input type="date" id="add-task-due" class="form-input">
                </div>
                <div class="form-group">
                    <label>Ë™¨Êòé</label>
                    <textarea id="add-task-description" class="form-input" rows="3" placeholder="Ë£úË∂≥„ÇÑËÉåÊôØ"></textarea>
                </div>
                <div id="add-task-error" class="form-error" style="display: none;"></div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary close-modal-btn">„Ç≠„É£„É≥„Çª„É´</button>
                <button id="save-add-task-btn" class="btn-primary">ËøΩÂä†</button>
            </div>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div id="edit-task-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Task</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="edit-task-id">
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" id="edit-task-title" class="form-input">
                </div>
                <div class="form-group">
                    <label>Project</label>
                    <select id="edit-task-project" class="form-input">
                        <option value="brainbase">brainbase</option>
                        <option value="unson">unson</option>
                        <option value="tech-knight">tech-knight</option>
                        <option value="salestailor">salestailor</option>
                        <option value="zeims">zeims</option>
                        <option value="baao">baao</option>
                        <option value="ncom">ncom</option>
                        <option value="general">general</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Priority</label>
                    <select id="edit-task-priority" class="form-input">
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Due Date</label>
                    <input type="date" id="edit-task-due" class="form-input">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="edit-task-description" class="form-input" rows="3" placeholder="Details or context"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary close-modal-btn">Cancel</button>
                <button id="save-task-btn" class="btn-primary">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Rename Session Modal -->
    <div id="rename-session-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i data-lucide="edit-3"></i> „Çª„ÉÉ„Ç∑„Éß„É≥ÂêçÂ§âÊõ¥</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="rename-session-input">„Çª„ÉÉ„Ç∑„Éß„É≥Âêç</label>
                    <input type="text" id="rename-session-input" class="form-input" placeholder="„Çª„ÉÉ„Ç∑„Éß„É≥Âêç„ÇíÂÖ•Âäõ">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary close-modal-btn">„Ç≠„É£„É≥„Çª„É´</button>
                <button class="btn-primary" id="save-rename-btn">‰øùÂ≠ò</button>
            </div>
        </div>
    </div>

    <!-- Create Session Modal -->
    <div id="create-session-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i data-lucide="plus-circle"></i> Êñ∞Ë¶è„Çª„ÉÉ„Ç∑„Éß„É≥</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="session-name-input">„Çª„ÉÉ„Ç∑„Éß„É≥Âêç</label>
                    <input type="text" id="session-name-input" class="form-input" placeholder="„Çª„ÉÉ„Ç∑„Éß„É≥Âêç„ÇíÂÖ•Âäõ">
                </div>
                <div class="form-group">
                    <label for="session-project-select">„Éó„É≠„Ç∏„Çß„ÇØ„Éà</label>
                    <select id="session-project-select" class="form-input">
                        <option value="general">general</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="session-command-input">ÂàùÊúü„Ç≥„Éû„É≥„ÉâÔºàÁúÅÁï•ÂèØÔºâ</label>
                    <input type="text" id="session-command-input" class="form-input" placeholder="‰æã: /task 123">
                </div>
                <div class="form-group">
                    <label>AI Engine</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="session-engine" value="claude" checked>
                            <span>Claude Code</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="session-engine" value="codex">
                            <span>OpenAI Codex</span>
                        </label>
                    </div>
                </div>
                <div class="form-group" id="worktree-option-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="use-worktree-checkbox">
                        <span>Git worktree„Çí‰ΩøÁî®</span>
                    </label>
                    <p class="form-hint" id="worktree-hint">„Éñ„É©„É≥„ÉÅ„ÇíÂàÜÈõ¢„Åó„Å¶ÂÆâÂÖ®„Å´‰ΩúÊ•≠„Åß„Åç„Åæ„Åô</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary close-modal-btn">„Ç≠„É£„É≥„Çª„É´</button>
                <button class="btn-primary" id="create-session-btn">‰ΩúÊàê</button>
            </div>
        </div>
    </div>

    <!-- Focus Engine Modal -->
    <div id="focus-engine-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i data-lucide="split"></i> „Çª„ÉÉ„Ç∑„Éß„É≥„ÅÆËµ∑ÂãïÂÖà</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <p>„Å©„ÅÆ„Ç®„É≥„Ç∏„É≥„Åß„Çª„ÉÉ„Ç∑„Éß„É≥„ÇíÁ´ã„Å°‰∏ä„Åí„Åæ„Åô„ÅãÔºü</p>
                <div class="form-group">
                    <label>AI Engine</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="focus-engine" value="claude" checked>
                            <span>Claude Code</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="focus-engine" value="codex">
                            <span>OpenAI Codex</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary close-modal-btn">„Ç≠„É£„É≥„Çª„É´</button>
                <button class="btn-primary" id="focus-engine-start-btn">ÈñãÂßã</button>
            </div>
        </div>
    </div>

    <!-- Archive Sessions Modal -->
    <div id="archive-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3><i data-lucide="archive"></i> ÈÅéÂéª„ÅÆ„Çª„ÉÉ„Ç∑„Éß„É≥</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <div class="archive-filters">
                    <input type="text" id="archive-search" class="form-input" placeholder="„Çª„ÉÉ„Ç∑„Éß„É≥Âêç„ÅßÊ§úÁ¥¢...">
                    <select id="archive-project-filter" class="form-input">
                        <option value="">„Åô„Åπ„Å¶„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà</option>
                    </select>
                </div>
                <div id="archive-list" class="archive-list">
                    <!-- Archived sessions will be loaded here -->
                </div>
                <div id="archive-empty" class="archive-empty" style="display: none;">
                    <i data-lucide="inbox"></i>
                    <p>„Ç¢„Éº„Ç´„Ç§„Éñ„Åï„Çå„Åü„Çª„ÉÉ„Ç∑„Éß„É≥„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content modal-fullscreen" id="settings-view">
            <div class="modal-header settings-header">
                <h3><i data-lucide="settings"></i> Settings</h3>
                <div style="display: flex; gap: 8px;">
                    <button class="icon-btn" id="restart-server-btn" title="Restart Server">
                        <i data-lucide="refresh-cw"></i>
                    </button>
                    <button class="close-modal-btn" id="close-settings-btn"><i data-lucide="x"></i></button>
                </div>
            </div>
            <div class="modal-body settings-body">
                <div class="settings-tabs"></div>
                <div class="settings-content"></div>
            </div>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3 id="confirm-modal-title"><i data-lucide="alert-circle"></i> Á¢∫Ë™ç</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <p id="confirm-modal-message"></p>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="confirm-cancel-btn">„Ç≠„É£„É≥„Çª„É´</button>
                <button class="btn-danger" id="confirm-ok-btn">OK</button>
            </div>
        </div>
    </div>

    <!-- Mana Message History Modal -->
    <div id="mana-history-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="mana-history-title">Mana„É°„ÉÉ„Çª„Éº„Ç∏Â±•Ê≠¥</h3>
                <button class="close-modal-btn"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <div id="mana-history-meta" class="mana-history-meta"></div>
                <div id="mana-history-list" class="mana-history-list"></div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Mobile Software Keyboard (for choice navigation) -->
    <div id="mobile-keyboard" class="mobile-keyboard">
        <button class="keyboard-key" id="key-up" title="‰∏äÁü¢Âç∞">
            <i data-lucide="arrow-up"></i>
        </button>
        <button class="keyboard-key" id="key-down" title="‰∏ãÁü¢Âç∞">
            <i data-lucide="arrow-down"></i>
        </button>
        <button class="keyboard-key" id="key-tab" title="Tab">
            <span class="key-label">Tab</span>
        </button>
        <button class="keyboard-key keyboard-key-primary" id="key-enter" title="Enter">
            <i data-lucide="corner-down-left"></i>
            <span class="key-label">Enter</span>
        </button>
    </div>

    <!-- Mobile Input Dock -->
    <div id="mobile-input-dock" class="mobile-input-dock">
        <div class="mobile-input-row mobile-input-cursor">
            <button class="mobile-input-btn" data-mobile-cursor="line-start" title="Ë°åÈ†≠">|&lt;</button>
            <button class="mobile-input-btn" data-mobile-cursor="word-left" title="ÂçòË™ûÂ∑¶">W&lt;</button>
            <button class="mobile-input-btn" data-mobile-cursor="left" title="Â∑¶">&lt;</button>
            <button class="mobile-input-btn" data-mobile-cursor="right" title="Âè≥">&gt;</button>
            <button class="mobile-input-btn" data-mobile-cursor="word-right" title="ÂçòË™ûÂè≥">W&gt;</button>
            <button class="mobile-input-btn" data-mobile-cursor="line-end" title="Ë°åÊú´">&gt;|</button>
            <button class="mobile-input-toggle" id="mobile-dock-select-toggle" title="ÈÅ∏Êäû„É¢„Éº„Éâ">Sel</button>
        </div>
        <div class="mobile-input-row mobile-input-main">
            <textarea id="mobile-dock-input" rows="1" placeholder="„Åì„Åì„Å´ÂÖ•Âäõ..." aria-label="„É¢„Éê„Ç§„É´ÂÖ•Âäõ"></textarea>
            <div class="mobile-input-main-actions">
                <button class="mobile-input-primary" id="mobile-dock-send">Send</button>
                <button class="mobile-input-secondary" id="mobile-dock-expand">Edit</button>
            </div>
        </div>
        <div class="mobile-input-row mobile-input-shortcuts">
            <button class="mobile-input-clip" data-clip-slot="dock">Clip1</button>
            <button class="mobile-input-clip" data-clip-slot="dock">Clip2</button>
            <button class="mobile-input-clip" data-clip-slot="dock">Clip3</button>
            <button class="mobile-input-secondary" id="mobile-dock-paste">Paste</button>
            <button class="mobile-input-secondary" id="mobile-dock-clipboard">Clips</button>
            <button class="mobile-input-secondary" id="mobile-dock-snippets">Snips</button>
            <button class="mobile-input-secondary" id="mobile-dock-snippet-add">Snip+</button>
        </div>
    </div>

    <!-- Mobile Composer -->
    <div id="mobile-composer" class="mobile-composer">
        <div class="mobile-composer-panel">
            <div class="mobile-composer-header">
                <button class="mobile-input-secondary" id="mobile-composer-back">Back</button>
                <div class="mobile-composer-meta">
                    <span class="mobile-composer-title">Composer</span>
                    <span id="mobile-composer-network" class="mobile-composer-network">Online</span>
                </div>
                <button class="mobile-input-primary" id="mobile-composer-send">Send</button>
            </div>
            <textarea id="mobile-composer-input" rows="6" placeholder="Èï∑Êñá„Çí„Åì„Åì„ÅßÁ∑®ÈõÜ..." aria-label="„É¢„Éê„Ç§„É´Á∑®ÈõÜ"></textarea>
            <div class="mobile-composer-toolbar">
                <button class="mobile-input-btn" data-mobile-format="h1">H1</button>
                <button class="mobile-input-btn" data-mobile-format="list">List</button>
                <button class="mobile-input-btn" data-mobile-format="code">Code</button>
                <button class="mobile-input-btn" data-mobile-format="quote">Quote</button>
                <button class="mobile-input-toggle" id="mobile-composer-select-toggle">Sel</button>
            </div>
            <div class="mobile-composer-actions">
                <div class="mobile-composer-cursor">
                    <button class="mobile-input-btn" data-mobile-cursor="line-start">|&lt;</button>
                    <button class="mobile-input-btn" data-mobile-cursor="word-left">W&lt;</button>
                    <button class="mobile-input-btn" data-mobile-cursor="left">&lt;</button>
                    <button class="mobile-input-btn" data-mobile-cursor="right">&gt;</button>
                    <button class="mobile-input-btn" data-mobile-cursor="word-right">W&gt;</button>
                    <button class="mobile-input-btn" data-mobile-cursor="line-end">&gt;|</button>
                </div>
                <div class="mobile-composer-quick">
                    <button class="mobile-input-secondary" id="mobile-composer-paste">Paste</button>
                    <button class="mobile-input-secondary" id="mobile-composer-clipboard">Clips</button>
                    <button class="mobile-input-secondary" id="mobile-composer-snippets">Snips</button>
                    <button class="mobile-input-secondary" id="mobile-composer-actions">Actions</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Input Sheets -->
    <div id="mobile-input-sheet-overlay" class="mobile-input-sheet-overlay"></div>
    <div id="mobile-clipboard-sheet" class="mobile-input-sheet">
        <div class="mobile-input-sheet-header">
            <h3>Clipboard</h3>
            <button class="mobile-input-sheet-close">Close</button>
        </div>
        <div id="mobile-clipboard-list" class="mobile-input-sheet-body"></div>
    </div>
    <div id="mobile-snippet-sheet" class="mobile-input-sheet">
        <div class="mobile-input-sheet-header">
            <h3>Snippets</h3>
            <button class="mobile-input-sheet-close">Close</button>
        </div>
        <div id="mobile-snippet-list" class="mobile-input-sheet-body"></div>
    </div>
    <div id="mobile-action-sheet" class="mobile-input-sheet">
        <div class="mobile-input-sheet-header">
            <h3>Actions</h3>
            <button class="mobile-input-sheet-close">Close</button>
        </div>
        <div id="mobile-action-list" class="mobile-input-sheet-body"></div>
    </div>

    <!-- Mobile Bottom Navigation (hidden on desktop) -->
    <nav class="mobile-bottom-nav" id="mobile-bottom-nav">
        <button id="mobile-sessions-btn">
            <i data-lucide="layers"></i>
            <span>Sessions</span>
        </button>
        <button id="mobile-tasks-btn" data-slot="mobile:tasks">
            <i data-lucide="list-todo"></i>
            <span>Tasks</span>
        </button>
        <button id="mobile-dashboard-btn" style="display: none;">
            <i data-lucide="layout-dashboard"></i>
            <span>Dashboard</span>
        </button>
        <button id="mobile-settings-btn">
            <i data-lucide="settings"></i>
            <span>Settings</span>
        </button>
    </nav>

    <!-- Sessions Bottom Sheet -->
    <div id="sessions-sheet-overlay" class="bottom-sheet-overlay"></div>
    <div id="sessions-bottom-sheet" class="bottom-sheet">
        <div class="bottom-sheet-handle"></div>
        <div class="bottom-sheet-header">
            <h3 id="mobile-app-version" class="mobile-version-display">v--</h3>
            <button class="add-session-btn-icon" id="mobile-add-session-btn" title="New Session">
                <i data-lucide="plus"></i>
            </button>
            <button class="bottom-sheet-close" id="close-sessions-sheet">
                <i data-lucide="x"></i>
            </button>
        </div>
        <div class="session-view-toggle mobile-session-view-toggle" aria-label="Session view mode">
            <button class="session-view-btn" data-view="project" title="„Éó„É≠„Ç∏„Çß„ÇØ„ÉàË°®Á§∫">
                <i data-lucide="folder"></i>
            </button>
            <button class="session-view-btn" data-view="timeline" title="ÊôÇÁ≥ªÂàóË°®Á§∫">
                <i data-lucide="clock"></i>
            </button>
        </div>
        <div class="archive-toggle-container" style="padding: 0.5rem 1rem;">
            <button id="mobile-toggle-archived-btn" class="archive-toggle-btn">
                <i data-lucide="archive"></i>
                <span>„Ç¢„Éº„Ç´„Ç§„Éñ„ÇíË°®Á§∫</span>
            </button>
        </div>
        <div class="bottom-sheet-content" id="mobile-session-list">
            <!-- Sessions will be cloned here -->
        </div>
    </div>

    <!-- Tasks Bottom Sheet -->
    <div id="tasks-sheet-overlay" class="bottom-sheet-overlay"></div>
    <div id="tasks-bottom-sheet" class="bottom-sheet">
        <div class="bottom-sheet-handle"></div>
        <div class="bottom-sheet-header">
            <h3><i data-lucide="list-todo"></i> Tasks</h3>
            <button class="bottom-sheet-close" id="close-tasks-sheet">
                <i data-lucide="x"></i>
            </button>
        </div>
        <div class="bottom-sheet-content" id="mobile-tasks-content">
            <!-- Tasks will be cloned here -->
        </div>
    </div>

    <!-- Mobile FAB (Floating Action Button) with Speed Dial -->
    <div id="mobile-fab-container" class="mobile-fab-container">
        <!-- Overlay to close menu -->
        <div id="mobile-fab-overlay" class="mobile-fab-overlay"></div>

        <!-- Speed Dial Actions (ordered bottom-to-top by usage frequency) -->
        <div id="mobile-fab-actions" class="mobile-fab-actions">
            <!-- Hard reset (top, development use) -->
            <button class="mobile-fab-action" id="mobile-hard-reset-btn" title="„Ç≠„É£„ÉÉ„Ç∑„É•„ÇØ„É™„Ç¢„Åó„Å¶ÂÜçË™≠Ëæº">
                <i data-lucide="refresh-cw"></i>
                <span class="fab-action-label">„É™„Çª„ÉÉ„Éà</span>
            </button>
            <!-- Least frequent: Copy (top, farthest from FAB) -->
            <button class="mobile-fab-action" id="mobile-copy-terminal-btn" title="„Çø„Éº„Éü„Éä„É´ÂÜÖÂÆπ„Çí„Ç≥„Éî„Éº">
                <i data-lucide="copy"></i>
                <span class="fab-action-label">„Ç≥„Éî„Éº</span>
            </button>
            <!-- Low frequency: Clear -->
            <button class="mobile-fab-action" id="mobile-send-clear-btn" title="ÁîªÈù¢„ÇØ„É™„Ç¢ (Ctrl+L)">
                <i data-lucide="eraser"></i>
                <span class="fab-action-label">„ÇØ„É™„Ç¢</span>
            </button>
            <!-- Medium frequency: Escape -->
            <button class="mobile-fab-action" id="mobile-send-escape-btn" title="Escape„Ç≠„Éº„ÇíÈÄÅ‰ø°">
                <i data-lucide="x-octagon"></i>
                <span class="fab-action-label">Escape</span>
            </button>
            <!-- Mode toggle: Shift+Tab for plan mode -->
            <button class="mobile-fab-action" id="mobile-send-shift-tab-btn" title="Shift+Tab„ÇíÈÄÅ‰ø°Ôºà„Éó„É©„É≥„É¢„Éº„ÉâÂàá„ÇäÊõø„ÅàÔºâ">
                <i data-lucide="panel-left"></i>
                <span class="fab-action-label">„Éó„É©„É≥</span>
            </button>
            <!-- Mode toggle: Virtual keyboard visibility -->
            <button class="mobile-fab-action" id="mobile-toggle-keyboard-btn" title="‰ªÆÊÉ≥„Ç≠„Éº„Éú„Éº„ÉâË°®Á§∫/ÈùûË°®Á§∫">
                <i data-lucide="keyboard"></i>
                <span class="fab-action-label">„Ç≠„Éº„Éú„Éº„Éâ</span>
            </button>
            <!-- High frequency: Image upload -->
            <button class="mobile-fab-action" id="mobile-upload-image-btn" title="ÁîªÂÉè„ÇíÈÅ∏Êäû„Åó„Å¶„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ">
                <i data-lucide="image-plus"></i>
                <span class="fab-action-label">ÁîªÂÉè</span>
            </button>
            <!-- Most frequent: Paste (bottom, closest to FAB) -->
            <button class="mobile-fab-action" id="mobile-paste-btn" title="„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Åã„Çâ„Éö„Éº„Çπ„Éà">
                <i data-lucide="clipboard"></i>
                <span class="fab-action-label">„Éö„Éº„Çπ„Éà</span>
            </button>
        </div>

        <!-- Main FAB Button -->
        <button id="mobile-fab" class="mobile-fab" title="„Ç¢„ÇØ„Ç∑„Éß„É≥„É°„Éã„É•„Éº">
            <i data-lucide="wrench" class="fab-icon-default"></i>
            <i data-lucide="x" class="fab-icon-close"></i>
        </button>
    </div>

    <!-- Health Detail Modal -->
    <div id="health-detail-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="window.dashboardController.closeHealthModal()">&times;</span>
            <div id="health-modal-content"></div>
        </div>
    </div>

    <script type="module" src="app.js?v=1766798000"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>
