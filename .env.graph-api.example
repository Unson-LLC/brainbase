# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Graph API Server - Environment Variables
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#
# 使い方:
#   1. このファイルを .env.graph-api にコピー
#   2. 各変数に実際の値を設定
#   3. デプロイスクリプトで Lightsail に転送
#
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# PostgreSQL接続（Lightsail VPC内部）
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 形式: postgresql://[ユーザー名]:[パスワード]@[ホスト]:[ポート]/[データベース名]
# Lightsail PostgreSQL内部IP: 172.19.0.2:5432
INFO_SSOT_DATABASE_URL=postgresql://brainbase_user:[YOUR_POSTGRES_PASSWORD]@172.19.0.2:5432/brainbase_ssot

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# JWT署名鍵（必須）
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# ランダムな文字列を生成: openssl rand -base64 32
BRAINBASE_JWT_SECRET=[YOUR_JWT_SECRET]

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Slack OAuth設定
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Slack App管理画面（https://api.slack.com/apps）から取得
SLACK_CLIENT_ID=[YOUR_SLACK_CLIENT_ID]
SLACK_CLIENT_SECRET=[YOUR_SLACK_CLIENT_SECRET]

# Slack App Redirect URI（以下を設定）
SLACK_REDIRECT_URI=https://graph.brain-base.work/api/auth/slack/callback

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 公開URL・CORS設定
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
BRAINBASE_PUBLIC_URL=https://graph.brain-base.work
BRAINBASE_AUTH_ALLOWED_ORIGINS=https://graph.brain-base.work

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# サーバー設定
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
NODE_ENV=production
PORT=3000

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# セキュリティ設定
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# アクセス制限（必要に応じて設定）
# BRAINBASE_ALLOWED_IPS=192.168.1.0/24,10.0.0.0/8

# レート制限（必要に応じて設定）
# BRAINBASE_RATE_LIMIT_MAX=100
# BRAINBASE_RATE_LIMIT_WINDOW_MS=900000
